<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>AcUtils: Network diagnostics logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Verizon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AcUtils
   </div>
   <div id="projectbrief">A high performance abstraction layer for AccuRev</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usergroup0.html"><span>Docs</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="group__acenum.html"><span>Enums</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Network diagnostics logging </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This version of <code>server_post_promote.exe.config</code> was used to help troubleshoot a Cisco defect that impacted email sent from programs running without a local Message Transfer Agent installed, e.g. IIS/SMTP pointing to relays with a queue that would try to resend. The workaround was to temporarily change the SMTP server to one that experienced the problem less often until the hotfix was applied. </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;utf-8&quot;</span> ?&gt;</div>
<div class="line">&lt;configuration&gt;</div>
<div class="line">  &lt;configSections&gt;</div>
<div class="line">    &lt;section name=<span class="stringliteral">&quot;activeDir&quot;</span> type=<span class="stringliteral">&quot;AcUtils.ADSection, AcUtils, Version=1.5.1.0, Culture=neutral, PublicKeyToken=26470c2daf5c2e2f, processorArchitecture=MSIL&quot;</span>/&gt;</div>
<div class="line">  &lt;/configSections&gt;</div>
<div class="line">  &lt;activeDir&gt;</div>
<div class="line">    &lt;domains&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;OMITTED1&quot;</span> server=<span class="stringliteral">&quot;mock1.abccorp.com&quot;</span> /&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;OMITTED2&quot;</span> server=<span class="stringliteral">&quot;mock2.xyzcorp.com&quot;</span> /&gt;</div>
<div class="line">    &lt;/domains&gt;</div>
<div class="line">  &lt;/activeDir&gt;</div>
<div class="line">  &lt;appSettings&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;IncludeOvrAboveTimeBasis&quot;</span> value=<span class="stringliteral">&quot;false&quot;</span> /&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;SMTPServer&quot;</span> value=<span class="stringliteral">&quot;omitted.xyzcorp.com&quot;</span> /&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;SMTPPort&quot;</span> value=<span class="stringliteral">&quot;25&quot;</span> /&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;MailFrom&quot;</span> value=<span class="stringliteral">&quot;buildAccnt@YourCompany.com&quot;</span> /&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;CcOnOverlap&quot;</span> value=<span class="stringliteral">&quot;UAT@YourCompany.com; Support@YourCompany.com&quot;</span> /&gt;</div>
<div class="line">    &lt;add key=<span class="stringliteral">&quot;ParamFileCopy&quot;</span> value=<span class="stringliteral">&quot;NoParamFileCopy&quot;</span> /&gt;</div>
<div class="line">  &lt;/appSettings&gt;</div>
<div class="line">  &lt;system.diagnostics&gt;</div>
<div class="line">    &lt;assert assertuienabled=<span class="stringliteral">&quot;false&quot;</span>/&gt;</div>
<div class="line">    &lt;sources&gt;</div>
<div class="line">      &lt;source name=<span class="stringliteral">&quot;server_post_promote&quot;</span>&gt;</div>
<div class="line">        &lt;listeners&gt;</div>
<div class="line">          &lt;<span class="keyword">remove</span> name=<span class="stringliteral">&quot;Default&quot;</span> /&gt;</div>
<div class="line">          &lt;add name=<span class="stringliteral">&quot;AcLog&quot;</span> type=<span class="stringliteral">&quot;Microsoft.VisualBasic.Logging.FileLogTraceListener, Microsoft.VisualBasic, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL&quot;</span> /&gt;</div>
<div class="line">        &lt;/listeners&gt;</div>
<div class="line">      &lt;/source&gt;</div>
<div class="line">      &lt;source name=<span class="stringliteral">&quot;System.Net&quot;</span>&gt;</div>
<div class="line">        &lt;listeners&gt;</div>
<div class="line">          &lt;add name=<span class="stringliteral">&quot;System.Net&quot;</span>/&gt;</div>
<div class="line">        &lt;/listeners&gt;</div>
<div class="line">      &lt;/source&gt;</div>
<div class="line">      &lt;source name=<span class="stringliteral">&quot;System.Net.Sockets&quot;</span>&gt;</div>
<div class="line">        &lt;listeners&gt;</div>
<div class="line">          &lt;add name=<span class="stringliteral">&quot;System.Net&quot;</span>/&gt;</div>
<div class="line">        &lt;/listeners&gt;</div>
<div class="line">      &lt;/source&gt;</div>
<div class="line">      &lt;source name=<span class="stringliteral">&quot;System.Net.Cache&quot;</span>&gt;</div>
<div class="line">        &lt;listeners&gt;</div>
<div class="line">          &lt;add name=<span class="stringliteral">&quot;System.Net&quot;</span>/&gt;</div>
<div class="line">        &lt;/listeners&gt;</div>
<div class="line">      &lt;/source&gt;</div>
<div class="line">    &lt;/sources&gt;</div>
<div class="line">    &lt;switches&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;System.Net&quot;</span> value=<span class="stringliteral">&quot;Verbose&quot;</span>/&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;System.Net.Sockets&quot;</span> value=<span class="stringliteral">&quot;Verbose&quot;</span>/&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;System.Net.Cache&quot;</span> value=<span class="stringliteral">&quot;Verbose&quot;</span>/&gt;</div>
<div class="line">    &lt;/switches&gt;</div>
<div class="line">    &lt;sharedListeners&gt;</div>
<div class="line">      &lt;add name=<span class="stringliteral">&quot;System.Net&quot;</span> type=<span class="stringliteral">&quot;System.Diagnostics.TextWriterTraceListener&quot;</span> initializeData=<span class="stringliteral">&quot;network.log&quot;</span> traceOutputOptions=<span class="stringliteral">&quot;DateTime&quot;</span> /&gt;</div>
<div class="line">    &lt;/sharedListeners&gt;</div>
<div class="line">    &lt;trace autoflush=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div>
<div class="line">  &lt;/system.diagnostics&gt;</div>
<div class="line">  &lt;startup&gt; </div>
<div class="line">    &lt;supportedRuntime version=<span class="stringliteral">&quot;v4.0&quot;</span> sku=<span class="stringliteral">&quot;.NETFramework,Version=v4.6&quot;</span> /&gt;</div>
<div class="line">  &lt;/startup&gt;</div>
<div class="line">&lt;/configuration&gt;</div>
</div><!-- fragment --><dl class="section user"><dt>server_post_promote weekly log file</dt><dd><small> <pre class="fragment">...
7/17/2014 5:25:17 PM
Exception caught and logged in Email.send
Insufficient system storage. The server response was: #4.3.1 queue full
...
</pre> </small></dd></dl>
<dl class="section user"><dt>network.log in same folder as executable</dt><dd>The date format is in UTC time zone, so it will not change irrespective of user's or server's culture or time zone. <small> <pre class="fragment">...
System.Net.Sockets Verbose: 0 : [5144] Socket#32854180::Send()
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] Data from Socket#32854180::Send
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] 00000000 : 4D 41 49 4C 20 46 52 4F-4D 3A 3C 73 2D 61 63 63 : MAIL FROM:&lt;s-acc
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] 00000010 : 75 62 72 69 64 67 65 40-56 65 72 69 7A 6F 6E 57 : ubridge@VerizonW
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] 00000020 : 69 72 65 6C 65 73 73 2E-63 6F 6D 3E 0D 0A       : ireless.com&gt;..
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] Exiting Socket#32854180::Send()             -&gt; 46#46
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] Socket#32854180::Receive()
    DateTime=2014-07-17T21:25:16.4623217Z
System.Net.Sockets Verbose: 0 : [5144] Data from Socket#32854180::Receive
    DateTime=2014-07-17T21:25:17.5716967Z
System.Net.Sockets Verbose: 0 : [5144] 00000000 : 34 35 32 20 23 34 2E 33-2E 31 20 71 75 65 75 65 : 452 #4.3.1 queue
    DateTime=2014-07-17T21:25:17.5716967Z
System.Net.Sockets Verbose: 0 : [5144] 00000010 : 20 66 75 6C 6C 0D 0A                            :  full..
    DateTime=2014-07-17T21:25:17.5716967Z
System.Net.Sockets Verbose: 0 : [5144] Exiting Socket#32854180::Receive()        -&gt; 23#23
    DateTime=2014-07-17T21:25:17.5716967Z
System.Net Error: 0 : [5144] Exception in the SmtpClient#12289376::Send - Insufficient system storage. The server response was: #4.3.1 queue full
    DateTime=2014-07-17T21:25:17.6029467Z
System.Net Error: 0 : [5144]    at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.SmtpTransport.SendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, SmtpFailedRecipientException&amp; exception)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
    DateTime=2014-07-17T21:25:17.8841967Z
System.Net.Sockets Verbose: 0 : [5144] Socket#32854180::Dispose()
    DateTime=2014-07-17T21:25:17.8841967Z
...
</pre> </small> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 23 2017 02:30:14 for AcUtils by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
